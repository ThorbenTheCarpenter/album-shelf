{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\jolej\\\\Documents\\\\GitHub\\\\album-shelf\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\jolej\\\\Documents\\\\GitHub\\\\album-shelf\\\\client\\\\src\\\\pages\\\\ObjectList\\\\singleObject.js\";\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { deleteObject } from \"../../Redux/actions/objectActions\";\nimport Details from \"./helpers/details\";\nimport { AiOutlineSetting, AiTwotoneDelete, AiTwotoneDiff } from \"react-icons/ai\";\nimport ShowEdit from \"./helpers/ShowEdit\";\nexport default function Table(props) {\n  var dispatch = useDispatch();\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      ID = _useState2[0],\n      setID = _useState2[1];\n\n  var _useState3 = useState(\"closed\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isOpen = _useState4[0],\n      setIsOpen = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      editMode = _useState6[0],\n      setEditMode = _useState6[1];\n\n  var _useState7 = useState(\"closed\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      editPopUp = _useState8[0],\n      setEditPopUp = _useState8[1]; // Escape listener\n\n\n  var handleUserKeyPress = useCallback(function (event) {\n    var keyCode = event.keyCode;\n\n    if (keyCode === 27) {\n      setEditMode(false);\n      setIsOpen('closed');\n      setEditPopUp('closed');\n    }\n  }, []);\n  useEffect(function () {\n    window.addEventListener(\"keydown\", handleUserKeyPress);\n    return function () {\n      window.removeEventListener(\"keydown\", handleUserKeyPress);\n    };\n  }, [handleUserKeyPress]); // Delete Object\n\n  var removebject = function removebject(album, id) {\n    if (window.confirm(\"Are you sure you want to delete \".concat(album, \"? There's no going back!\"))) {\n      window.location.reload(true);\n      dispatch(deleteObject(id));\n    }\n  }; // handleClick\n\n\n  var handleClick = function handleClick(number) {\n    setID(number);\n    setIsOpen('open');\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(AiOutlineSetting, {\n    className: \"editModeButton\",\n    onClick: function onClick() {\n      return setEditMode(!editMode);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), props.data.map(function (row) {\n    return React.createElement(\"div\", {\n      onClick: function onClick() {\n        return handleClick(row.id);\n      },\n      className: \"main_box\",\n      key: row.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"vinyl\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"middle_circle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"empty\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"album_image\",\n      alt: \"No cover\",\n      src: row.image,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"titles\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"artist\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, row.artist), React.createElement(\"div\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, row.title)), editMode ? React.createElement(\"div\", {\n      className: \"buttondiv\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"delbutton\",\n      onClick: function onClick() {\n        removebject(row.title, row.id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(AiTwotoneDelete, {\n      className: \"delIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"editbutton\",\n      onClick: function onClick() {\n        setEditPopUp('open');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(AiTwotoneDiff, {\n      className: \"editIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }))) : null, editPopUp === \"open\" ? React.createElement(ShowEdit, {\n      id: row.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }) : null, isOpen === \"open\" ? React.createElement(Details, {\n      id: ID,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }) : null);\n  }));\n}","map":{"version":3,"sources":["C:/Users/jolej/Documents/GitHub/album-shelf/client/src/pages/ObjectList/singleObject.js"],"names":["React","useState","useEffect","useCallback","useDispatch","deleteObject","Details","AiOutlineSetting","AiTwotoneDelete","AiTwotoneDiff","ShowEdit","Table","props","dispatch","ID","setID","isOpen","setIsOpen","editMode","setEditMode","editPopUp","setEditPopUp","handleUserKeyPress","event","keyCode","window","addEventListener","removeEventListener","removebject","album","id","confirm","location","reload","handleClick","number","data","map","row","image","artist","title"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { deleteObject } from \"../../Redux/actions/objectActions\";\r\nimport Details from \"./helpers/details\";\r\nimport {\r\n  AiOutlineSetting,\r\n  AiTwotoneDelete,\r\n  AiTwotoneDiff\r\n} from \"react-icons/ai\";\r\nimport ShowEdit from \"./helpers/ShowEdit\";\r\n\r\nexport default function Table(props) {\r\n  const dispatch = useDispatch();\r\n  const [ID, setID] = useState();\r\n  const [isOpen, setIsOpen] = useState(\"closed\")\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [editPopUp, setEditPopUp] = useState(\"closed\")\r\n\r\n\r\n // Escape listener\r\n const handleUserKeyPress = useCallback(event => {\r\n  const { keyCode } = event;\r\n\r\n  if (keyCode === 27) {\r\n    setEditMode(false);\r\n    setIsOpen('closed');\r\n    setEditPopUp('closed');\r\n  }\r\n}, []);\r\n\r\nuseEffect(() => {\r\n  window.addEventListener(\"keydown\", handleUserKeyPress);\r\n  return () => {\r\n    window.removeEventListener(\"keydown\", handleUserKeyPress);\r\n  };\r\n}, [handleUserKeyPress]);\r\n  // Delete Object\r\n\r\n  const removebject = (album, id) => {\r\n    if (\r\n      window.confirm(\r\n        `Are you sure you want to delete ${album}? There's no going back!`\r\n      )\r\n    ) {\r\n      window.location.reload(true);\r\n      dispatch(deleteObject(id));\r\n    }\r\n  };\r\n\r\n  // handleClick\r\n\r\n  const handleClick = (number) => {\r\n    setID(number);\r\n    setIsOpen('open');\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {/* Edit Button */}\r\n\r\n      <AiOutlineSetting\r\n        className=\"editModeButton\"\r\n        onClick={() => setEditMode(!editMode)}\r\n      />\r\n\r\n      {/* Mapping */}\r\n\r\n      {props.data.map(row => (\r\n        <div\r\n          onClick={() => handleClick(row.id)}\r\n          className=\"main_box\"\r\n          key={row.id}\r\n        >\r\n          <div className=\"vinyl\">\r\n            <div className=\"middle_circle\"></div>\r\n          </div>\r\n          <div className=\"empty\">\r\n            <img className=\"album_image\" alt=\"No cover\" src={row.image} />\r\n          </div>\r\n          <div className=\"titles\">\r\n            {/* <Details /> */}\r\n            <div className=\"artist\">{row.artist}</div>\r\n            <div className=\"title\">{row.title}</div>\r\n          </div>\r\n\r\n          {/*  */}\r\n\r\n          {editMode ? (\r\n            <div className=\"buttondiv\">\r\n              <button\r\n                className=\"delbutton\"\r\n                onClick={() => {\r\n                  removebject(row.title, row.id);\r\n                }}\r\n              >\r\n                <AiTwotoneDelete className=\"delIcon\" />\r\n              </button>\r\n\r\n\r\n              <button\r\n                className=\"editbutton\"\r\n                onClick={() => {\r\n                  setEditPopUp('open')\r\n                }}\r\n\r\n\r\n              >\r\n                <AiTwotoneDiff className=\"editIcon\" />\r\n              </button>\r\n            </div>\r\n          ) : null}\r\n\r\n          {/* POPUP */}\r\n\r\n          {editPopUp === \"open\" ? (\r\n            <ShowEdit id={row.id} />\r\n          )\r\n        : null\r\n        }\r\n          {isOpen === \"open\" ? (\r\n              <Details id={ID} />\r\n          ): null }\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}