{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\jolej\\\\Documents\\\\GitHub\\\\album-shelf\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\jolej\\\\Documents\\\\GitHub\\\\album-shelf\\\\client\\\\src\\\\pages\\\\ObjectList\\\\singleObject.js\";\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { deleteObject } from \"../../Redux/actions/objectActions\";\nimport { useHistory } from \"react-router-dom\";\nimport Details from \"./helpers/details\";\nimport useModal from \"use-react-modal\";\nimport { AiOutlineSetting, AiTwotoneDelete, AiTwotoneDiff } from \"react-icons/ai\";\nexport default function Table(props) {\n  var dispatch = useDispatch();\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      ID = _useState2[0],\n      setID = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isOpen = _useState4[0],\n      setIsOpen = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      editMode = _useState6[0],\n      setEditMode = _useState6[1];\n\n  var history = useHistory(); // Edit Object\n\n  var editObject = function editObject(id) {\n    history.push(\"/editObj/\" + id);\n  }; // Escape listener\n\n\n  var handleUserKeyPress = useCallback(function (event) {\n    var keyCode = event.keyCode;\n\n    if (keyCode === 27) {\n      setEditMode(false);\n      setIsOpen(false);\n    }\n  }, []);\n  useEffect(function () {\n    window.addEventListener(\"keydown\", handleUserKeyPress);\n    return function () {\n      window.removeEventListener(\"keydown\", handleUserKeyPress);\n    };\n  }, [handleUserKeyPress]); // Delete Object\n\n  var removebject = function removebject(album, id) {\n    if (window.confirm(\"Are you sure you want to delete \".concat(album, \"? There's no going back!\"))) {\n      window.location.reload(true);\n      dispatch(deleteObject(id));\n    }\n  }; // handleClick\n\n\n  var handleClick = function handleClick(number) {\n    setID(number);\n    setIsOpen(true);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(AiOutlineSetting, {\n    className: \"editModeButton\",\n    onClick: function onClick() {\n      return setEditMode(!editMode);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }), props.data.map(function (row) {\n    return React.createElement(\"div\", {\n      onClick: function onClick() {\n        return handleClick(row.id);\n      },\n      className: \"main_box\",\n      key: row.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"vinyl\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"middle_circle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"empty\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"album_image\",\n      alt: \"No cover\",\n      src: row.image,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"titles\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"artist\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, row.artist), React.createElement(\"div\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, row.title)), editMode ? React.createElement(\"div\", {\n      className: \"buttondiv\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"delbutton\",\n      onClick: function onClick() {\n        removebject(row.title, row.id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(AiTwotoneDelete, {\n      className: \"delIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"editbutton\",\n      onClick: function onClick() {\n        editObject(row.id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(AiTwotoneDiff, {\n      className: \"editIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }))) : null, isOpen ? React.createElement(Details, {\n      id: ID,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }) : null);\n  }));\n}","map":{"version":3,"sources":["C:/Users/jolej/Documents/GitHub/album-shelf/client/src/pages/ObjectList/singleObject.js"],"names":["React","useState","useEffect","useCallback","useDispatch","deleteObject","useHistory","Details","useModal","AiOutlineSetting","AiTwotoneDelete","AiTwotoneDiff","Table","props","dispatch","ID","setID","isOpen","setIsOpen","editMode","setEditMode","history","editObject","id","push","handleUserKeyPress","event","keyCode","window","addEventListener","removeEventListener","removebject","album","confirm","location","reload","handleClick","number","data","map","row","image","artist","title"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { deleteObject } from \"../../Redux/actions/objectActions\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Details from \"./helpers/details\";\r\nimport useModal from \"use-react-modal\";\r\nimport {\r\n  AiOutlineSetting,\r\n  AiTwotoneDelete,\r\n  AiTwotoneDiff\r\n} from \"react-icons/ai\";\r\n\r\nexport default function Table(props) {\r\n  const dispatch = useDispatch();\r\n  const [ID, setID] = useState();\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const [editMode, setEditMode] = useState(false);\r\n\r\n  const history = useHistory();\r\n\r\n  // Edit Object\r\n\r\n  const editObject = id => {\r\n    history.push(\"/editObj/\" + id);\r\n  };\r\n\r\n // Escape listener\r\n const handleUserKeyPress = useCallback(event => {\r\n  const { keyCode } = event;\r\n\r\n  if (keyCode === 27) {\r\n    setEditMode(false);\r\n    setIsOpen(false);\r\n  }\r\n}, []);\r\n\r\nuseEffect(() => {\r\n  window.addEventListener(\"keydown\", handleUserKeyPress);\r\n  return () => {\r\n    window.removeEventListener(\"keydown\", handleUserKeyPress);\r\n  };\r\n}, [handleUserKeyPress]);\r\n  // Delete Object\r\n\r\n  const removebject = (album, id) => {\r\n    if (\r\n      window.confirm(\r\n        `Are you sure you want to delete ${album}? There's no going back!`\r\n      )\r\n    ) {\r\n      window.location.reload(true);\r\n      dispatch(deleteObject(id));\r\n    }\r\n  };\r\n\r\n  // handleClick\r\n\r\n  const handleClick = (number) => {\r\n    setID(number);\r\n    setIsOpen(true);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {/* Edit Button */}\r\n\r\n      <AiOutlineSetting\r\n        className=\"editModeButton\"\r\n        onClick={() => setEditMode(!editMode)}\r\n      />\r\n\r\n      {/* Mapping */}\r\n\r\n      {props.data.map(row => (\r\n        <div\r\n          onClick={() => handleClick(row.id)}\r\n          className=\"main_box\"\r\n          key={row.id}\r\n        >\r\n          <div className=\"vinyl\">\r\n            <div className=\"middle_circle\"></div>\r\n          </div>\r\n          <div className=\"empty\">\r\n            <img className=\"album_image\" alt=\"No cover\" src={row.image} />\r\n          </div>\r\n          <div className=\"titles\">\r\n            {/* <Details /> */}\r\n            <div className=\"artist\">{row.artist}</div>\r\n            <div className=\"title\">{row.title}</div>\r\n          </div>\r\n\r\n          {/*  */}\r\n\r\n          {editMode ? (\r\n            <div className=\"buttondiv\">\r\n              <button\r\n                className=\"delbutton\"\r\n                onClick={() => {\r\n                  removebject(row.title, row.id);\r\n                }}\r\n              >\r\n                <AiTwotoneDelete className=\"delIcon\" />\r\n              </button>\r\n              <button\r\n                className=\"editbutton\"\r\n                onClick={() => {\r\n                  editObject(row.id);\r\n                }}\r\n              >\r\n                <AiTwotoneDiff className=\"editIcon\" />\r\n              </button>\r\n            </div>\r\n          ) : null}\r\n\r\n          {/* POPUP */}\r\n\r\n          {isOpen ? (\r\n              <Details id={ID} />\r\n          ): null }\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}